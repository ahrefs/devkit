
# 1 "htmlStream_ragel.ml.rl"
[@@@ocaml.warning "-38-32"]

module Raw = struct
  include Prelude.Fresh(String)()
  let length x = String.length @@ project x
  let is_empty x = "" = project x
end

type elem =
| Tag of (string * (string * Raw.t) list)
| Script of ((string * Raw.t) list * string) (* attributes and contents. TODO investigate script contents encoding *)
| Style of ((string * Raw.t) list * string)
| Text of Raw.t
| Close of string

type range = (int * int)

type ctx = { mutable lnum : int; }

let get_lnum ctx = ctx.lnum

let init () = { lnum = 1 }


# 28 "htmlStream_ragel.ml"
let _htmlstream_trans_keys : int array = Array.concat [ [|
	10; 60; 10; 60; 0; 122; 10; 10; 10; 122; 10; 45; 10; 45; 10; 45; 
	10; 62; 10; 122; 0; 122; 0; 122; 0; 122; 0; 122; 0; 62; 0; 62; 
	10; 60; 10; 34; 10; 34; 0; 122; 10; 62; 10; 39; 10; 39; 0; 122; 
	0; 122; 0; 122; 0; 122; 0; 62; 10; 60; 0; 62; 0; 62; 10; 60; 
	10; 34; 10; 34; 0; 122; 10; 39; 10; 39; 0; 122; 10; 62; 10; 60; 
	10; 122; 10; 122; 10; 60; 10; 60; 0; 60; 0; 115; 10; 99; 10; 114; 
	10; 105; 10; 112; 10; 116; 0; 62; 10; 10; 10; 60; 10; 60; 0; 60; 
	0; 115; 10; 116; 10; 121; 10; 108; 10; 101; 0; 62; 10; 10; 10; 62; 
	10; 10; 0
|] ]

let _htmlstream_key_spans : int array = Array.concat [ [|
	51; 51; 123; 1; 113; 36; 36; 36; 
	53; 113; 123; 123; 123; 123; 63; 63; 
	51; 25; 25; 123; 53; 30; 30; 123; 
	123; 123; 123; 63; 51; 63; 63; 51; 
	25; 25; 123; 30; 30; 123; 53; 51; 
	113; 113; 51; 51; 61; 116; 90; 105; 
	96; 103; 107; 63; 1; 51; 51; 61; 
	116; 107; 112; 99; 92; 63; 1; 53; 
	1
|] ]

let _htmlstream_index_offsets : int array = Array.concat [ [|
	0; 52; 104; 228; 230; 344; 381; 418; 
	455; 509; 623; 747; 871; 995; 1119; 1183; 
	1247; 1299; 1325; 1351; 1475; 1529; 1560; 1591; 
	1715; 1839; 1963; 2087; 2151; 2203; 2267; 2331; 
	2383; 2409; 2435; 2559; 2590; 2621; 2745; 2799; 
	2851; 2965; 3079; 3131; 3183; 3245; 3362; 3453; 
	3559; 3656; 3760; 3868; 3932; 3934; 3986; 4038; 
	4100; 4217; 4325; 4438; 4538; 4631; 4695; 4697; 
	4751
|] ]

let _htmlstream_indicies : int array = Array.concat [ [|
	1; 0; 0; 0; 0; 0; 0; 0; 
	0; 0; 0; 0; 0; 0; 0; 0; 
	0; 0; 0; 0; 0; 0; 0; 0; 
	0; 0; 0; 0; 0; 0; 0; 0; 
	0; 0; 0; 0; 0; 0; 0; 0; 
	0; 0; 0; 0; 0; 0; 0; 0; 
	0; 0; 2; 0; 4; 3; 3; 3; 
	3; 3; 3; 3; 3; 3; 3; 3; 
	3; 3; 3; 3; 3; 3; 3; 3; 
	3; 3; 3; 3; 3; 3; 3; 3; 
	3; 3; 3; 3; 3; 3; 3; 3; 
	3; 3; 3; 3; 3; 3; 3; 3; 
	3; 3; 3; 3; 3; 3; 5; 3; 
	7; 7; 7; 7; 7; 7; 7; 7; 
	7; 7; 8; 7; 7; 7; 7; 7; 
	7; 7; 7; 7; 7; 7; 7; 7; 
	7; 7; 7; 7; 7; 7; 7; 7; 
	7; 9; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 10; 6; 11; 
	10; 10; 10; 10; 10; 10; 10; 10; 
	10; 10; 10; 6; 6; 6; 6; 12; 
	6; 10; 10; 10; 10; 10; 10; 10; 
	10; 10; 10; 10; 10; 10; 10; 10; 
	10; 10; 10; 10; 10; 10; 10; 10; 
	10; 10; 10; 6; 6; 6; 6; 10; 
	6; 10; 10; 10; 10; 10; 10; 10; 
	10; 10; 10; 10; 10; 10; 10; 10; 
	10; 10; 10; 10; 10; 10; 10; 10; 
	10; 10; 10; 6; 14; 13; 15; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 16; 6; 6; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 6; 6; 
	6; 6; 6; 6; 6; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 17; 6; 
	6; 6; 6; 6; 6; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 17; 6; 
	15; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 18; 6; 19; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	20; 18; 19; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 21; 18; 19; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 21; 18; 18; 18; 18; 18; 
	18; 18; 18; 18; 18; 18; 18; 18; 
	18; 18; 18; 22; 18; 15; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	23; 6; 6; 23; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 6; 6; 
	6; 6; 6; 6; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 6; 6; 
	6; 6; 23; 6; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 6; 24; 
	24; 24; 24; 24; 24; 24; 24; 24; 
	24; 25; 24; 24; 24; 24; 24; 24; 
	24; 24; 24; 24; 24; 24; 24; 24; 
	24; 24; 24; 24; 24; 24; 24; 24; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 23; 6; 6; 23; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 6; 6; 6; 26; 27; 6; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 6; 6; 6; 6; 23; 6; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 23; 23; 23; 23; 23; 23; 
	23; 23; 6; 28; 28; 28; 28; 28; 
	28; 28; 28; 28; 28; 29; 28; 28; 
	28; 28; 28; 28; 28; 28; 28; 28; 
	28; 28; 28; 28; 28; 28; 28; 28; 
	28; 28; 28; 28; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	30; 6; 6; 30; 30; 30; 30; 30; 
	30; 30; 30; 30; 30; 30; 6; 6; 
	6; 31; 32; 6; 30; 30; 30; 30; 
	30; 30; 30; 30; 30; 30; 30; 30; 
	30; 30; 30; 30; 30; 30; 30; 30; 
	30; 30; 30; 30; 30; 30; 6; 6; 
	6; 6; 30; 6; 30; 30; 30; 30; 
	30; 30; 30; 30; 30; 30; 30; 30; 
	30; 30; 30; 30; 30; 30; 30; 30; 
	30; 30; 30; 30; 30; 30; 6; 33; 
	33; 33; 33; 33; 33; 33; 33; 33; 
	33; 34; 33; 33; 33; 33; 33; 33; 
	33; 33; 33; 33; 33; 33; 33; 33; 
	33; 33; 33; 33; 33; 33; 33; 33; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 35; 6; 6; 35; 
	35; 35; 35; 35; 35; 35; 35; 35; 
	35; 35; 6; 6; 36; 37; 38; 6; 
	35; 35; 35; 35; 35; 35; 35; 35; 
	35; 35; 35; 35; 35; 35; 35; 35; 
	35; 35; 35; 35; 35; 35; 35; 35; 
	35; 35; 6; 6; 6; 6; 35; 6; 
	35; 35; 35; 35; 35; 35; 35; 35; 
	35; 35; 35; 35; 35; 35; 35; 35; 
	35; 35; 35; 35; 35; 35; 35; 35; 
	35; 35; 6; 39; 39; 39; 39; 39; 
	39; 39; 39; 39; 39; 40; 39; 39; 
	39; 39; 39; 39; 39; 39; 39; 39; 
	39; 39; 39; 39; 39; 39; 39; 39; 
	39; 39; 39; 39; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	41; 6; 6; 41; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 6; 6; 
	42; 43; 44; 6; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 6; 6; 
	6; 6; 41; 6; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 6; 42; 
	42; 42; 42; 42; 42; 42; 42; 42; 
	42; 46; 42; 42; 42; 42; 42; 42; 
	42; 42; 42; 42; 42; 42; 42; 42; 
	42; 42; 42; 42; 42; 42; 42; 42; 
	45; 47; 45; 45; 45; 45; 48; 45; 
	45; 45; 45; 45; 45; 45; 45; 45; 
	45; 45; 45; 45; 45; 45; 45; 45; 
	45; 45; 45; 45; 45; 6; 45; 50; 
	50; 50; 50; 50; 50; 50; 50; 50; 
	50; 51; 50; 50; 50; 50; 50; 50; 
	50; 50; 50; 50; 50; 50; 50; 50; 
	50; 50; 50; 50; 50; 50; 50; 50; 
	49; 6; 49; 49; 49; 49; 6; 49; 
	49; 49; 49; 49; 49; 49; 49; 49; 
	49; 49; 49; 49; 49; 49; 49; 49; 
	49; 49; 49; 49; 49; 52; 49; 54; 
	53; 53; 53; 53; 53; 53; 53; 53; 
	53; 53; 53; 53; 53; 53; 53; 53; 
	53; 53; 53; 53; 53; 53; 53; 53; 
	53; 53; 53; 53; 53; 53; 53; 53; 
	53; 53; 53; 53; 53; 53; 53; 53; 
	53; 53; 53; 53; 53; 53; 53; 53; 
	53; 55; 53; 57; 56; 56; 56; 56; 
	56; 56; 56; 56; 56; 56; 56; 56; 
	56; 56; 56; 56; 56; 56; 56; 56; 
	56; 56; 56; 58; 56; 60; 59; 59; 
	59; 59; 59; 59; 59; 59; 59; 59; 
	59; 59; 59; 59; 59; 59; 59; 59; 
	59; 59; 59; 59; 59; 61; 59; 62; 
	62; 62; 62; 62; 62; 62; 62; 62; 
	62; 63; 62; 62; 62; 62; 62; 62; 
	62; 62; 62; 62; 62; 62; 62; 62; 
	62; 62; 62; 62; 62; 62; 62; 62; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 41; 6; 6; 41; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 6; 6; 6; 43; 44; 6; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 6; 6; 6; 6; 41; 6; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 41; 41; 41; 41; 41; 41; 
	41; 41; 6; 15; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 31; 
	6; 65; 64; 64; 64; 64; 64; 64; 
	64; 64; 64; 64; 64; 64; 64; 64; 
	64; 64; 64; 64; 64; 64; 64; 64; 
	64; 64; 64; 64; 64; 64; 58; 64; 
	67; 66; 66; 66; 66; 66; 66; 66; 
	66; 66; 66; 66; 66; 66; 66; 66; 
	66; 66; 66; 66; 66; 66; 66; 66; 
	66; 66; 66; 66; 66; 61; 66; 68; 
	68; 68; 68; 68; 68; 68; 68; 68; 
	68; 69; 68; 68; 68; 68; 68; 68; 
	68; 68; 68; 68; 68; 68; 68; 68; 
	68; 68; 68; 68; 68; 68; 68; 68; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 70; 6; 71; 70; 
	70; 70; 70; 70; 70; 70; 70; 70; 
	70; 70; 6; 6; 6; 72; 6; 6; 
	70; 70; 70; 70; 70; 70; 70; 70; 
	70; 70; 70; 70; 70; 70; 70; 70; 
	70; 70; 70; 70; 70; 70; 70; 70; 
	70; 70; 6; 6; 6; 6; 70; 6; 
	70; 70; 70; 70; 70; 70; 70; 70; 
	70; 70; 70; 70; 70; 70; 70; 70; 
	70; 70; 70; 70; 70; 70; 70; 70; 
	70; 70; 6; 73; 73; 73; 73; 73; 
	73; 73; 73; 73; 73; 74; 73; 73; 
	73; 73; 73; 73; 73; 73; 73; 73; 
	73; 73; 73; 73; 73; 73; 73; 73; 
	73; 73; 73; 73; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	75; 6; 76; 75; 75; 75; 75; 75; 
	75; 75; 75; 75; 75; 75; 6; 6; 
	6; 77; 6; 6; 75; 75; 75; 75; 
	75; 75; 75; 75; 75; 75; 75; 75; 
	75; 75; 75; 75; 75; 75; 75; 75; 
	75; 75; 75; 75; 75; 75; 6; 6; 
	6; 6; 75; 6; 75; 75; 75; 75; 
	75; 75; 75; 75; 75; 75; 75; 75; 
	75; 75; 75; 75; 75; 75; 75; 75; 
	75; 75; 75; 75; 75; 75; 6; 78; 
	78; 78; 78; 78; 78; 78; 78; 78; 
	78; 79; 78; 78; 78; 78; 78; 78; 
	78; 78; 78; 78; 78; 78; 78; 78; 
	78; 78; 78; 78; 78; 78; 78; 78; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 80; 6; 81; 80; 
	80; 80; 80; 80; 80; 80; 80; 80; 
	80; 80; 6; 6; 82; 83; 6; 6; 
	80; 80; 80; 80; 80; 80; 80; 80; 
	80; 80; 80; 80; 80; 80; 80; 80; 
	80; 80; 80; 80; 80; 80; 80; 80; 
	80; 80; 6; 6; 6; 6; 80; 6; 
	80; 80; 80; 80; 80; 80; 80; 80; 
	80; 80; 80; 80; 80; 80; 80; 80; 
	80; 80; 80; 80; 80; 80; 80; 80; 
	80; 80; 6; 84; 84; 84; 84; 84; 
	84; 84; 84; 84; 84; 85; 84; 84; 
	84; 84; 84; 84; 84; 84; 84; 84; 
	84; 84; 84; 84; 84; 84; 84; 84; 
	84; 84; 84; 84; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	86; 6; 87; 86; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 6; 6; 
	88; 89; 6; 6; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 6; 6; 
	6; 6; 86; 6; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 6; 76; 
	76; 76; 76; 76; 76; 76; 76; 76; 
	76; 90; 76; 76; 76; 76; 76; 76; 
	76; 76; 76; 76; 76; 76; 76; 76; 
	76; 76; 76; 76; 76; 76; 76; 76; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 91; 6; 93; 
	92; 92; 92; 92; 92; 92; 92; 92; 
	92; 92; 92; 92; 92; 92; 92; 92; 
	92; 92; 92; 92; 92; 92; 92; 92; 
	92; 92; 92; 92; 92; 92; 92; 92; 
	92; 92; 92; 92; 92; 92; 92; 92; 
	92; 92; 92; 92; 92; 92; 92; 92; 
	92; 94; 92; 88; 88; 88; 88; 88; 
	88; 88; 88; 88; 88; 96; 88; 88; 
	88; 88; 88; 88; 88; 88; 88; 88; 
	88; 88; 88; 88; 88; 88; 88; 88; 
	88; 88; 88; 88; 95; 97; 95; 95; 
	95; 95; 98; 95; 95; 95; 95; 95; 
	95; 95; 95; 95; 95; 95; 95; 95; 
	95; 95; 95; 95; 95; 95; 95; 95; 
	95; 6; 95; 100; 100; 100; 100; 100; 
	100; 100; 100; 100; 100; 101; 100; 100; 
	100; 100; 100; 100; 100; 100; 100; 100; 
	100; 100; 100; 100; 100; 100; 100; 100; 
	100; 100; 100; 100; 99; 6; 99; 99; 
	99; 99; 6; 99; 99; 99; 99; 99; 
	99; 99; 99; 99; 99; 99; 99; 99; 
	99; 99; 99; 99; 99; 99; 99; 99; 
	99; 102; 99; 104; 103; 103; 103; 103; 
	103; 103; 103; 103; 103; 103; 103; 103; 
	103; 103; 103; 103; 103; 103; 103; 103; 
	103; 103; 103; 103; 103; 103; 103; 103; 
	103; 103; 103; 103; 103; 103; 103; 103; 
	103; 103; 103; 103; 103; 103; 103; 103; 
	103; 103; 103; 103; 103; 105; 103; 107; 
	106; 106; 106; 106; 106; 106; 106; 106; 
	106; 106; 106; 106; 106; 106; 106; 106; 
	106; 106; 106; 106; 106; 106; 106; 108; 
	106; 110; 109; 109; 109; 109; 109; 109; 
	109; 109; 109; 109; 109; 109; 109; 109; 
	109; 109; 109; 109; 109; 109; 109; 109; 
	109; 111; 109; 112; 112; 112; 112; 112; 
	112; 112; 112; 112; 112; 113; 112; 112; 
	112; 112; 112; 112; 112; 112; 112; 112; 
	112; 112; 112; 112; 112; 112; 112; 112; 
	112; 112; 112; 112; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	86; 6; 87; 86; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 6; 6; 
	6; 89; 6; 6; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 6; 6; 
	6; 6; 86; 6; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 86; 86; 
	86; 86; 86; 86; 86; 86; 6; 115; 
	114; 114; 114; 114; 114; 114; 114; 114; 
	114; 114; 114; 114; 114; 114; 114; 114; 
	114; 114; 114; 114; 114; 114; 114; 114; 
	114; 114; 114; 114; 108; 114; 117; 116; 
	116; 116; 116; 116; 116; 116; 116; 116; 
	116; 116; 116; 116; 116; 116; 116; 116; 
	116; 116; 116; 116; 116; 116; 116; 116; 
	116; 116; 116; 111; 116; 119; 119; 119; 
	119; 119; 119; 119; 119; 119; 119; 120; 
	119; 119; 119; 119; 119; 119; 119; 119; 
	119; 119; 119; 119; 119; 119; 119; 119; 
	119; 119; 119; 119; 119; 119; 118; 118; 
	118; 118; 118; 118; 118; 118; 118; 118; 
	118; 118; 121; 118; 118; 121; 121; 121; 
	121; 121; 121; 121; 121; 121; 121; 121; 
	118; 118; 118; 122; 118; 118; 121; 121; 
	121; 121; 121; 121; 121; 121; 121; 121; 
	121; 121; 121; 121; 121; 121; 121; 121; 
	121; 121; 121; 121; 121; 121; 121; 121; 
	118; 118; 118; 118; 121; 118; 121; 121; 
	121; 121; 121; 121; 121; 121; 121; 121; 
	121; 121; 121; 121; 121; 121; 121; 121; 
	121; 121; 121; 121; 121; 121; 121; 121; 
	118; 124; 123; 123; 123; 123; 123; 123; 
	123; 123; 123; 123; 123; 123; 123; 123; 
	123; 123; 123; 123; 123; 123; 123; 123; 
	123; 123; 123; 123; 123; 123; 123; 123; 
	123; 123; 123; 123; 123; 123; 123; 123; 
	123; 123; 123; 123; 123; 123; 123; 123; 
	123; 123; 123; 123; 123; 125; 123; 127; 
	126; 126; 126; 126; 126; 126; 126; 126; 
	126; 126; 126; 126; 126; 126; 126; 126; 
	126; 126; 126; 126; 126; 126; 126; 126; 
	126; 126; 126; 126; 126; 126; 126; 126; 
	126; 126; 126; 126; 126; 126; 126; 126; 
	126; 126; 126; 126; 126; 126; 126; 126; 
	126; 128; 126; 130; 129; 129; 129; 129; 
	129; 129; 129; 129; 129; 129; 129; 129; 
	129; 129; 129; 129; 129; 129; 129; 129; 
	129; 129; 129; 129; 129; 129; 129; 129; 
	129; 129; 129; 129; 129; 129; 131; 129; 
	129; 131; 131; 131; 131; 131; 131; 131; 
	131; 131; 131; 131; 129; 129; 129; 132; 
	129; 129; 131; 131; 131; 131; 131; 131; 
	131; 131; 131; 131; 131; 131; 131; 131; 
	131; 131; 131; 131; 131; 131; 131; 131; 
	131; 131; 131; 131; 129; 129; 129; 129; 
	131; 129; 131; 131; 131; 131; 131; 131; 
	131; 131; 131; 131; 131; 131; 131; 131; 
	131; 131; 131; 131; 131; 131; 131; 131; 
	131; 131; 131; 131; 129; 15; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 6; 6; 6; 6; 6; 
	6; 6; 6; 17; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 6; 6; 6; 
	6; 6; 6; 6; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 6; 6; 
	6; 6; 6; 6; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 17; 17; 
	17; 17; 17; 17; 17; 17; 6; 134; 
	133; 133; 133; 133; 133; 133; 133; 133; 
	133; 133; 133; 133; 133; 133; 133; 133; 
	133; 133; 133; 133; 133; 133; 133; 133; 
	133; 133; 133; 133; 133; 133; 133; 133; 
	133; 133; 133; 133; 133; 133; 133; 133; 
	133; 133; 133; 133; 133; 133; 133; 133; 
	133; 135; 133; 137; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 138; 136; 139; 
	139; 139; 139; 139; 139; 139; 139; 139; 
	139; 140; 139; 139; 139; 139; 139; 139; 
	139; 139; 139; 139; 139; 139; 139; 139; 
	139; 139; 139; 139; 139; 139; 139; 139; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 141; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 138; 136; 141; 141; 141; 
	141; 141; 141; 141; 141; 141; 141; 142; 
	141; 141; 141; 141; 141; 141; 141; 141; 
	141; 141; 141; 141; 141; 141; 141; 141; 
	141; 141; 141; 141; 141; 141; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 138; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	143; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	143; 136; 137; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 138; 136; 136; 136; 
	136; 136; 136; 144; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 144; 136; 137; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 138; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 145; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 145; 136; 137; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 138; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 146; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 146; 136; 
	137; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 138; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 147; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 147; 136; 
	137; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 138; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 148; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 148; 136; 148; 148; 148; 148; 
	148; 148; 148; 148; 148; 148; 149; 148; 
	148; 148; 148; 148; 148; 148; 148; 148; 
	148; 148; 148; 148; 148; 148; 148; 148; 
	148; 148; 148; 148; 148; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	136; 136; 136; 136; 136; 136; 136; 136; 
	138; 136; 150; 136; 152; 151; 154; 153; 
	153; 153; 153; 153; 153; 153; 153; 153; 
	153; 153; 153; 153; 153; 153; 153; 153; 
	153; 153; 153; 153; 153; 153; 153; 153; 
	153; 153; 153; 153; 153; 153; 153; 153; 
	153; 153; 153; 153; 153; 153; 153; 153; 
	153; 153; 153; 153; 153; 153; 153; 153; 
	155; 153; 157; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 158; 156; 159; 159; 
	159; 159; 159; 159; 159; 159; 159; 159; 
	160; 159; 159; 159; 159; 159; 159; 159; 
	159; 159; 159; 159; 159; 159; 159; 159; 
	159; 159; 159; 159; 159; 159; 159; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 161; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 158; 156; 161; 161; 161; 161; 
	161; 161; 161; 161; 161; 161; 162; 161; 
	161; 161; 161; 161; 161; 161; 161; 161; 
	161; 161; 161; 161; 161; 161; 161; 161; 
	161; 161; 161; 161; 161; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	158; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 163; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 163; 
	156; 157; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 158; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 164; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 164; 156; 157; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 158; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 165; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 165; 156; 157; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	158; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	166; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	166; 156; 157; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 158; 156; 156; 156; 
	156; 156; 156; 156; 156; 167; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 167; 156; 167; 
	167; 167; 167; 167; 167; 167; 167; 167; 
	167; 168; 167; 167; 167; 167; 167; 167; 
	167; 167; 167; 167; 167; 167; 167; 167; 
	167; 167; 167; 167; 167; 167; 167; 167; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 156; 156; 156; 156; 156; 
	156; 156; 156; 158; 156; 169; 156; 171; 
	170; 173; 172; 172; 172; 172; 172; 172; 
	172; 172; 172; 172; 172; 172; 172; 172; 
	172; 172; 172; 172; 172; 172; 172; 172; 
	172; 172; 172; 172; 172; 172; 172; 172; 
	172; 172; 172; 172; 172; 172; 172; 172; 
	172; 172; 172; 172; 172; 172; 172; 172; 
	172; 172; 172; 172; 172; 174; 172; 176; 
	175; 0
|] ]

let _htmlstream_trans_targs : int array = Array.concat [ [|
	1; 1; 2; 1; 1; 2; 3; 2; 
	2; 4; 23; 37; 41; 3; 3; 3; 
	5; 9; 6; 6; 7; 8; 0; 10; 
	11; 11; 16; 20; 11; 11; 12; 16; 
	20; 13; 13; 12; 14; 16; 20; 13; 
	13; 12; 14; 16; 20; 15; 14; 17; 
	21; 15; 11; 11; 16; 1; 1; 2; 
	18; 18; 19; 18; 18; 19; 11; 11; 
	22; 22; 22; 22; 24; 24; 23; 27; 
	31; 24; 24; 25; 27; 31; 26; 26; 
	25; 27; 29; 31; 26; 26; 25; 27; 
	29; 31; 27; 28; 1; 1; 2; 30; 
	29; 32; 35; 30; 24; 24; 31; 1; 
	1; 2; 33; 33; 34; 33; 33; 34; 
	24; 24; 36; 36; 36; 36; 38; 37; 
	37; 40; 39; 38; 38; 39; 1; 1; 
	2; 38; 38; 40; 39; 43; 43; 44; 
	43; 43; 44; 44; 44; 45; 45; 46; 
	47; 48; 49; 50; 51; 51; 52; 52; 
	52; 54; 54; 55; 54; 54; 55; 55; 
	55; 56; 56; 57; 58; 59; 60; 61; 
	61; 62; 62; 62; 63; 63; 64; 64; 
	64
|] ]

let _htmlstream_trans_actions : int array = Array.concat [ [|
	1; 2; 3; 0; 5; 6; 7; 0; 
	5; 8; 9; 8; 8; 0; 5; 10; 
	0; 1; 0; 5; 0; 0; 0; 0; 
	11; 12; 11; 11; 0; 5; 1; 0; 
	0; 13; 14; 0; 13; 15; 15; 0; 
	5; 16; 0; 17; 17; 1; 5; 0; 
	0; 0; 18; 19; 18; 21; 22; 23; 
	1; 2; 24; 0; 5; 25; 17; 26; 
	1; 2; 0; 5; 27; 28; 0; 27; 
	27; 0; 5; 1; 0; 0; 13; 14; 
	0; 15; 13; 15; 0; 5; 16; 17; 
	0; 17; 5; 0; 30; 31; 32; 1; 
	5; 0; 0; 0; 18; 19; 18; 34; 
	35; 36; 1; 2; 24; 0; 5; 25; 
	17; 26; 1; 2; 0; 5; 24; 0; 
	5; 1; 24; 0; 5; 0; 38; 39; 
	40; 25; 41; 0; 25; 1; 42; 24; 
	0; 5; 25; 0; 5; 0; 5; 0; 
	0; 0; 0; 0; 0; 5; 43; 0; 
	5; 1; 42; 24; 0; 5; 25; 0; 
	5; 0; 5; 0; 0; 0; 0; 0; 
	5; 44; 0; 5; 0; 5; 45; 0; 
	5
|] ]

let _htmlstream_eof_actions : int array = Array.concat [ [|
	0; 4; 7; 0; 7; 7; 7; 7; 
	7; 7; 7; 7; 7; 7; 7; 7; 
	20; 7; 7; 7; 7; 7; 7; 7; 
	7; 7; 7; 7; 29; 7; 7; 33; 
	7; 7; 7; 7; 7; 7; 7; 37; 
	7; 7; 0; 0; 0; 0; 0; 0; 
	0; 0; 0; 0; 0; 0; 0; 0; 
	0; 0; 0; 0; 0; 0; 0; 0; 
	0
|] ]

let htmlstream_start : int = 0
let htmlstream_first_final : int = 0
let htmlstream_error : int = -1

let htmlstream_en_in_script : int = 42
let htmlstream_en_in_style : int = 53
let htmlstream_en_garbage_tag : int = 63
let htmlstream_en_main : int = 0

type _htmlstream_state = { mutable keys : int; mutable trans : int; }
exception Goto_match_htmlstream
exception Goto_again_htmlstream
exception Goto_eof_trans_htmlstream

# 73 "htmlStream_ragel.ml.rl"


(** scan [data] for html tags and invoke [call] for every element  *)
let parse_with_range ?(ctx=init ()) call data =
  let cs = ref 0 in
  let mark = ref (-1) in
  let mark_end = ref (-1) in
  let tag_start = ref (-1) in 
  let tag = ref "" and key = ref "" and attrs = ref [] and directive = ref "" in
(*  let substr data ofs len = try String.sub data ofs len with exn -> Prelude.printfn "%S %d %d %d" data (String.length data) ofs len; raise exn in *)
  let substr = String.sub in
  
# 754 "htmlStream_ragel.ml"
	begin
	cs.contents <- htmlstream_start;
	end;

# 85 "htmlStream_ragel.ml.rl"
  let eof = ref (String.length data) in
  let p = ref 0 in
  let pe = ref (String.length data) in
  let sub () =
    assert (!mark >= 0);
    if !mark_end < 0 then mark_end := !p;
    let s = if !mark_end <= !mark then "" else substr data !mark (!mark_end - !mark) in
    let range = (!mark, !mark_end) in
    mark := -1;
    mark_end := -1;
    (s, range)
  in
  let tag_range () = 
    assert (!tag_start >= 0);
    let range = (!tag_start, !p) in
    tag_start := -1;
    range
  in
  
# 779 "htmlStream_ragel.ml"
	begin
	let state = { keys = 0; trans = 0; } in
	let rec do_start () =
	if p.contents = pe.contents then
		do_test_eof ()
	else
	do_resume ()
and do_resume () =
	begin try
	let keys = cs.contents lsl 1 in
	let inds = _htmlstream_index_offsets.(cs.contents) in

	let slen = _htmlstream_key_spans.(cs.contents) in
	state.trans <- _htmlstream_indicies.(inds + (
		if slen > 0 && _htmlstream_trans_keys.(keys) <= Char.code data.[p.contents] &&
		Char.code data.[p.contents] <= _htmlstream_trans_keys.(keys+1) then
		Char.code data.[p.contents] - _htmlstream_trans_keys.(keys) else slen));

	with Goto_match_htmlstream -> () end;
	do_eof_trans ()
and do_eof_trans () =
	cs.contents <- _htmlstream_trans_targs.(state.trans);

	begin try if _htmlstream_trans_actions.(state.trans) = 0 then
		raise_notrace Goto_again_htmlstream;

	match _htmlstream_trans_actions.(state.trans) with
	| 1 ->
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
	()
	| 25 ->
# 28 "htmlStream_ragel.ml.rl"
		begin  mark_end := !p  end;
	()
	| 3 ->
# 29 "htmlStream_ragel.ml.rl"
		begin  tag_start := !p  end;
	()
	| 27 ->
# 30 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in tag := String.lowercase_ascii s; attrs := [];  end;
	()
	| 11 ->
# 32 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in directive := (String.lowercase_ascii s); attrs := [];  end;
	()
	| 13 ->
# 34 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in key := String.lowercase_ascii s;  end;
	()
	| 17 ->
# 35 "htmlStream_ragel.ml.rl"
		begin  attrs := (!key, Raw.inject (if !mark < 0 then "" else let s, _r = sub() in s)) :: !attrs  end;
	()
	| 7 ->
# 46 "htmlStream_ragel.ml.rl"
		begin  (*printfn "GARBAGE %S" (current ()); *) p.contents <- p.contents - 1;  begin cs.contents <- 63; if true then raise_notrace Goto_again_htmlstream end end;
	()
	| 5 ->
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 8 ->
# 69 "htmlStream_ragel.ml.rl"
		begin  tag := ""  end;
	()
	| 24 ->
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
# 28 "htmlStream_ragel.ml.rl"
		begin  mark_end := !p  end;
	()
	| 2 ->
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 18 ->
# 28 "htmlStream_ragel.ml.rl"
		begin  mark_end := !p  end;
# 35 "htmlStream_ragel.ml.rl"
		begin  attrs := (!key, Raw.inject (if !mark < 0 then "" else let s, _r = sub() in s)) :: !attrs  end;
	()
	| 41 ->
# 28 "htmlStream_ragel.ml.rl"
		begin  mark_end := !p  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 28 ->
# 30 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in tag := String.lowercase_ascii s; attrs := [];  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 38 ->
# 31 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in call @@ (Close (String.lowercase_ascii s), tag_range ())  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
	()
	| 40 ->
# 31 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in call @@ (Close (String.lowercase_ascii s), tag_range ())  end;
# 29 "htmlStream_ragel.ml.rl"
		begin  tag_start := !p  end;
	()
	| 12 ->
# 32 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in directive := (String.lowercase_ascii s); attrs := [];  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 6 ->
# 33 "htmlStream_ragel.ml.rl"
		begin  let s, r = sub () in call @@ (Text (Raw.inject s), r)  end;
# 29 "htmlStream_ragel.ml.rl"
		begin  tag_start := !p  end;
	()
	| 15 ->
# 34 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in key := String.lowercase_ascii s;  end;
# 35 "htmlStream_ragel.ml.rl"
		begin  attrs := (!key, Raw.inject (if !mark < 0 then "" else let s, _r = sub() in s)) :: !attrs  end;
	()
	| 14 ->
# 34 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in key := String.lowercase_ascii s;  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 16 ->
# 35 "htmlStream_ragel.ml.rl"
		begin  attrs := (!key, Raw.inject (if !mark < 0 then "" else let s, _r = sub() in s)) :: !attrs  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
	()
	| 26 ->
# 35 "htmlStream_ragel.ml.rl"
		begin  attrs := (!key, Raw.inject (if !mark < 0 then "" else let s, _r = sub() in s)) :: !attrs  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 34 ->
# 36 "htmlStream_ragel.ml.rl"
		begin 
    match !tag with
    | "script" -> p.contents <- p.contents - 1;  begin cs.contents <- 42; if true then raise_notrace Goto_again_htmlstream end
    | "style" -> p.contents <- p.contents - 1;  begin cs.contents <- 53; if true then raise_notrace Goto_again_htmlstream end
    | "" -> ()
    | _ -> call @@ (Tag (!tag, List.rev !attrs), tag_range ())
  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
	()
	| 36 ->
# 36 "htmlStream_ragel.ml.rl"
		begin 
    match !tag with
    | "script" -> p.contents <- p.contents - 1;  begin cs.contents <- 42; if true then raise_notrace Goto_again_htmlstream end
    | "style" -> p.contents <- p.contents - 1;  begin cs.contents <- 53; if true then raise_notrace Goto_again_htmlstream end
    | "" -> ()
    | _ -> call @@ (Tag (!tag, List.rev !attrs), tag_range ())
  end;
# 29 "htmlStream_ragel.ml.rl"
		begin  tag_start := !p  end;
	()
	| 45 ->
# 36 "htmlStream_ragel.ml.rl"
		begin 
    match !tag with
    | "script" -> p.contents <- p.contents - 1;  begin cs.contents <- 42; if true then raise_notrace Goto_again_htmlstream end
    | "style" -> p.contents <- p.contents - 1;  begin cs.contents <- 53; if true then raise_notrace Goto_again_htmlstream end
    | "" -> ()
    | _ -> call @@ (Tag (!tag, List.rev !attrs), tag_range ())
  end;
# 60 "htmlStream_ragel.ml.rl"
		begin  begin cs.contents <- 0; if true then raise_notrace Goto_again_htmlstream end  end;
	()
	| 30 ->
# 43 "htmlStream_ragel.ml.rl"
		begin  let r = tag_range () in call @@ (Tag (!tag, List.rev !attrs), r); if !tag <> "a" then call ((Close !tag), r)  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
	()
	| 32 ->
# 43 "htmlStream_ragel.ml.rl"
		begin  let r = tag_range () in call @@ (Tag (!tag, List.rev !attrs), r); if !tag <> "a" then call ((Close !tag), r)  end;
# 29 "htmlStream_ragel.ml.rl"
		begin  tag_start := !p  end;
	()
	| 21 ->
# 44 "htmlStream_ragel.ml.rl"
		begin  (* printfn "directive %s" !directive; *)  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
	()
	| 23 ->
# 44 "htmlStream_ragel.ml.rl"
		begin  (* printfn "directive %s" !directive; *)  end;
# 29 "htmlStream_ragel.ml.rl"
		begin  tag_start := !p  end;
	()
	| 10 ->
# 46 "htmlStream_ragel.ml.rl"
		begin  (*printfn "GARBAGE %S" (current ()); *) p.contents <- p.contents - 1;  begin cs.contents <- 63; if true then raise_notrace Goto_again_htmlstream end end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 42 ->
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
	()
	| 43 ->
# 53 "htmlStream_ragel.ml.rl"
		begin 
  let s, _r = sub () in call @@ (Script (List.rev !attrs, s), tag_range ())
  end;
# 55 "htmlStream_ragel.ml.rl"
		begin begin cs.contents <- 0; if true then raise_notrace Goto_again_htmlstream end end;
	()
	| 44 ->
# 56 "htmlStream_ragel.ml.rl"
		begin 
  let s, _r = sub () in call @@ (Style (List.rev !attrs, s), tag_range ())
  end;
# 58 "htmlStream_ragel.ml.rl"
		begin begin cs.contents <- 0; if true then raise_notrace Goto_again_htmlstream end end;
	()
	| 9 ->
# 69 "htmlStream_ragel.ml.rl"
		begin  tag := ""  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
	()
	| 19 ->
# 28 "htmlStream_ragel.ml.rl"
		begin  mark_end := !p  end;
# 35 "htmlStream_ragel.ml.rl"
		begin  attrs := (!key, Raw.inject (if !mark < 0 then "" else let s, _r = sub() in s)) :: !attrs  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 39 ->
# 31 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in call @@ (Close (String.lowercase_ascii s), tag_range ())  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 35 ->
# 36 "htmlStream_ragel.ml.rl"
		begin 
    match !tag with
    | "script" -> p.contents <- p.contents - 1;  begin cs.contents <- 42; if true then raise_notrace Goto_again_htmlstream end
    | "style" -> p.contents <- p.contents - 1;  begin cs.contents <- 53; if true then raise_notrace Goto_again_htmlstream end
    | "" -> ()
    | _ -> call @@ (Tag (!tag, List.rev !attrs), tag_range ())
  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 31 ->
# 43 "htmlStream_ragel.ml.rl"
		begin  let r = tag_range () in call @@ (Tag (!tag, List.rev !attrs), r); if !tag <> "a" then call ((Close !tag), r)  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
	| 22 ->
# 44 "htmlStream_ragel.ml.rl"
		begin  (* printfn "directive %s" !directive; *)  end;
# 27 "htmlStream_ragel.ml.rl"
		begin  mark := !p  end;
# 48 "htmlStream_ragel.ml.rl"
		begin  ctx.lnum <- ctx.lnum + 1  end;
	()
# 1065 "htmlStream_ragel.ml"
		| _ -> ()
	with Goto_again_htmlstream -> () end;

	do_again ()
	and do_again () =
	p.contents <- p.contents + 1;
	if p.contents <> pe.contents then
		do_resume ()
	else do_test_eof ()
and do_test_eof () =
	if p.contents = eof.contents then
	begin try
	begin match _htmlstream_eof_actions.(cs.contents) with
	| 37 ->
# 31 "htmlStream_ragel.ml.rl"
		begin  let s, _r = sub () in call @@ (Close (String.lowercase_ascii s), tag_range ())  end;
	()
	| 4 ->
# 33 "htmlStream_ragel.ml.rl"
		begin  let s, r = sub () in call @@ (Text (Raw.inject s), r)  end;
	()
	| 33 ->
# 36 "htmlStream_ragel.ml.rl"
		begin 
    match !tag with
    | "script" -> p.contents <- p.contents - 1;  begin cs.contents <- 42; if true then raise_notrace Goto_again_htmlstream end
    | "style" -> p.contents <- p.contents - 1;  begin cs.contents <- 53; if true then raise_notrace Goto_again_htmlstream end
    | "" -> ()
    | _ -> call @@ (Tag (!tag, List.rev !attrs), tag_range ())
  end;
	()
	| 29 ->
# 43 "htmlStream_ragel.ml.rl"
		begin  let r = tag_range () in call @@ (Tag (!tag, List.rev !attrs), r); if !tag <> "a" then call ((Close !tag), r)  end;
	()
	| 20 ->
# 44 "htmlStream_ragel.ml.rl"
		begin  (* printfn "directive %s" !directive; *)  end;
	()
	| 7 ->
# 46 "htmlStream_ragel.ml.rl"
		begin  (*printfn "GARBAGE %S" (current ()); *) p.contents <- p.contents - 1;  begin cs.contents <- 63; if true then raise_notrace Goto_again_htmlstream end end;
	()
# 1109 "htmlStream_ragel.ml"
		| _ -> ()
	end
	with Goto_again_htmlstream -> do_again ()
	| Goto_eof_trans_htmlstream -> do_eof_trans () end

	in do_start ()
	end;

# 104 "htmlStream_ragel.ml.rl"
(* FIXME ? *)
(*     if !eof <> -1 && !cs < htmlstream_first_final then Exn.fail "not parsed"; *)
  ()

(* vim: ft=ocaml
*)
